!function(){"use strict";var e={832:function(e,t,n){var i=n(81),r=n.n(i),o=n(645),a=n.n(o),s=n(667),l=n.n(s),c=new URL(n(717),n.b),u=new URL(n(225),n.b),h=new URL(n(552),n.b),f=new URL(n(149),n.b),d=a()(r()),p=l()(c),m=l()(u),v=l()(h),b=l()(f);d.push([e.id,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */*,*::before,*::after{box-sizing:border-box}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:rgba(0,0,0,0)}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}@font-face{font-family:"Marvin";font-style:normal;font-weight:400;font-display:swap;src:local("Marvin"),local("Marvin"),url('+p+') format("opentype")}body{background-color:#a1a1a1;font-family:Marvin,sans-serif;color:#fff}.game{max-width:1000px;padding:0 30px;margin:0 auto;text-align:center;text-transform:uppercase;line-height:1;position:relative}.game__header{display:flex;justify-content:center;align-items:center;margin-bottom:44px}.game__progress{flex-grow:1;min-width:0;max-width:335px;padding:10px;background-color:#fff;background-image:linear-gradient(to top, #103d79 0%, #092140 100%, #092140 100%);border-radius:0 0 12px 12px;box-shadow:0 0 16px rgba(255,255,255,.35),inset 0 0 29px rgba(4,22,45,.15);text-align:center;margin:0 30px}.game__progress-bar{height:24px;background-color:#073980;background-image:linear-gradient(to top, #032655 0%, #000f24 100%, #000f24 100%);border-radius:12px;display:flex;padding:1px}.game__progress-value{background-color:#073980;background-image:linear-gradient(to top, #60ff00 0%, #60ff00 1%, #1d9b00 32%, #a2ff00 77%, #ecffcc 100%);border-radius:11px;transition-duration:500ms;max-width:100%}.game__progress-text{font-size:16px;margin-bottom:10px}.game__messsage,.game__match,.game__level{background-color:#073980;background-image:linear-gradient(to top, #7517f4 0%, #580673 19%, #9310b5 46%, #dc57f8 100%);border-radius:19px;padding:10px 25px;font-size:20px;min-width:100px}.game__body{display:flex}.game__field{margin-right:90px;padding:15px 21px;background:url('+m+") left top/cover no-repeat}.game__content .game__actions{margin-top:30px;position:static;transform:none;display:flex;justify-content:center}.game__content .btn{animation:none}.game__info{background:url("+v+") left top/cover no-repeat;width:370px;min-height:350px;padding:20px 30px}.game__moves{background:url("+b+") left top/cover no-repeat;font-size:34px;width:200px;height:200px;margin:0 auto;display:flex;justify-content:center;align-items:center}.game__score{padding:10px;background-image:linear-gradient(to top, #103d79 0%, #092140 100%, #092140 100%);border-radius:12px;box-shadow:0 0 16px rgba(255,255,255,.35),inset 0 0 29px rgba(4,22,45,.15)}.game__score-text{font-size:19px;margin-bottom:5px}.game__score-value{font-size:34px}.game__actions{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.game__messsage{margin-bottom:15px;display:none;padding-top:20px;padding-bottom:20px}.btn{display:none;border-radius:20px;font-size:16px;animation:pulse 1s infinite linear;padding:15px 30px;background-color:#103d79;color:inherit;border:none;outline:none;overflow:hidden;position:relative;cursor:pointer;transition-duration:300ms;transition-property:background-color}.btn:hover{background-color:#00539e}@keyframes pulse{0%{transform:scale(1.1)}50%{transform:scale(1)}100%{transform:scale(1.1)}}",""]),t.Z=d},645:function(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(i)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);i&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},667:function(e){e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:function(e){e.exports=function(e){return e[1]}},379:function(e){var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var o={},a=[],s=0;s<e.length;s++){var l=e[s],c=i.base?l[0]+i.base:l[0],u=o[c]||0,h="".concat(c," ").concat(u);o[c]=u+1;var f=n(h),d={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==f)t[f].references++,t[f].updater(d);else{var p=r(d,i);i.byIndex=s,t.splice(s,0,{identifier:h,updater:p,references:1})}a.push(h)}return a}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var o=i(e=e||[],r=r||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var l=i(e,r),c=0;c<o.length;c++){var u=n(o[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=l}}},569:function(e){var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:function(e){e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:function(e,t,n){e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:function(e){e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:function(e){e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},717:function(e,t,n){e.exports=n.p+"0b0440dad1201b851ced.otf"},225:function(e,t,n){e.exports=n.p+"c3ee5f922575c2d87ab0.png"},552:function(e,t,n){e.exports=n.p+"165d9877b26a26ed10e9.png"},149:function(e,t,n){e.exports=n.p+"e73790de646050ffdca3.png"}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,exports:{}};return e[i](o,o.exports,n),o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),n.b=document.baseURI||self.location.href,n.nc=void 0,function(){var e=n(379),t=n.n(e),i=n(795),r=n.n(i),o=n(569),a=n.n(o),s=n(565),l=n.n(s),c=n(216),u=n.n(c),h=n(589),f=n.n(h),d=n(832),p={};function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!==m(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key),"symbol"===m(r)?r:String(r)),i)}var r}function b(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function y(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,w(e,t,"get"))}function g(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,w(e,t,"set"),n),n}function w(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}p.styleTagTransform=f(),p.setAttributes=l(),p.insert=a().bind(null,"head"),p.domAPI=r(),p.insertStyleElement=u(),t()(d.Z,p),d.Z&&d.Z.locals&&d.Z.locals;var x=new WeakMap,I=new WeakMap,k=new WeakMap,S=new WeakMap,E=new WeakMap,$=new WeakMap,j=function(){function e(t,n,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,x,{writable:!0,value:void 0}),b(this,I,{writable:!0,value:void 0}),b(this,k,{writable:!0,value:void 0}),b(this,S,{writable:!0,value:void 0}),b(this,E,{writable:!0,value:void 0}),b(this,$,{writable:!0,value:void 0}),g(this,x,t),g(this,I,y(this,x).getContext("2d")),g(this,k,y(this,x).width=n),g(this,S,y(this,x).height=i),g(this,E,r),g(this,$,o)}var t,n;return t=e,(n=[{key:"canvas",get:function(){return y(this,x)}},{key:"context",get:function(){return y(this,I)}},{key:"width",get:function(){return y(this,k)}},{key:"height",get:function(){return y(this,S)}},{key:"rowCount",get:function(){return y(this,$)}},{key:"colCount",get:function(){return y(this,E)}},{key:"clear",value:function(){y(this,I).clearRect(0,0,y(this,k),y(this,S))}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,M(i.key),i)}}function W(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function P(e,t,n){return(t=M(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!==O(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===O(t)?t:String(t)}var B=W((function e(t,n,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),P(this,"chance",void 0),P(this,"type",void 0),P(this,"image",void 0),P(this,"width",void 0),P(this,"height",void 0),P(this,"animationFrame",0),this.chance=t,this.type=n,this.image=new Image,this.image.src=i,this.image.width=this.width=r,this.image.height=this.height=o}));function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return(t=A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,A(i.key),i)}}function A(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!==T(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===T(t)?t:String(t)}function V(e,t){D(e,t),t.add(e)}function F(e,t,n){D(e,t),t.set(e,n)}function D(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function N(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function U(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Z(e,t,"get"))}function G(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Z(e,t,"set"),n),n}function Z(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var q=new WeakMap,H=new WeakMap,J=new WeakMap,Q=new WeakMap,X=new WeakMap,Y=new WeakMap,K=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,ie=new WeakMap,re=new WeakMap,oe=new WeakSet,ae=new WeakSet,se=new WeakSet,le=new WeakSet,ce=new WeakSet,ue=new WeakSet,he=new WeakSet,fe=new WeakSet,de=new WeakSet,pe=new WeakSet,me=new WeakSet,ve=new WeakSet,be=new WeakSet,ye=new WeakSet,ge=new WeakSet,we=new WeakSet,xe=new WeakSet,Ie=new WeakSet,ke=new WeakSet,Se=new WeakSet,Ee=new WeakSet,$e=new WeakSet,je=new WeakSet,Oe=function(){function e(t){var n=this,i=t.canvasInstance,r=t.interfaceInstance,o=t.itemsInstances,a=t.levels;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),V(this,je),V(this,$e),V(this,Ee),V(this,Se),V(this,ke),V(this,Ie),V(this,xe),V(this,we),V(this,ge),V(this,ye),V(this,be),V(this,ve),V(this,me),V(this,pe),V(this,de),V(this,fe),V(this,he),V(this,ue),V(this,ce),V(this,le),V(this,se),V(this,ae),V(this,oe),F(this,q,{writable:!0,value:void 0}),F(this,H,{writable:!0,value:void 0}),F(this,J,{writable:!0,value:void 0}),F(this,Q,{writable:!0,value:void 0}),F(this,X,{writable:!0,value:[]}),F(this,Y,{writable:!0,value:{}}),F(this,K,{writable:!0,value:void 0}),F(this,ee,{writable:!0,value:void 0}),F(this,te,{writable:!0,value:void 0}),F(this,ne,{writable:!0,value:0}),F(this,ie,{writable:!0,value:2}),F(this,re,{writable:!0,value:2}),G(this,q,i),G(this,H,r),G(this,J,o),G(this,Q,Array(U(this,q).colCount).fill(null).map((function(e,t){return Array(U(n,q).rowCount).fill(null)}))),G(this,ee,a),G(this,K,localStorage.getItem("level")||1)}var t,n;return t=e,(n=[{key:"init",value:function(){N(this,ke,qe).call(this),N(this,Ie,Ze).call(this),N(this,se,Pe).call(this),N(this,je,Xe).call(this),N(this,Ee,Je).call(this),N(this,$e,Qe).call(this),N(this,Se,He).call(this),U(this,H).setLevel(U(this,K))}}])&&R(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _e(){var e=this;U(this,q).clear(),U(this,Q).forEach((function(t,n){t.forEach((function(t,n){t&&(t.image.complete?U(e,q).context.drawImage(t.image,t.x,t.y,t.width,t.height):t.image.addEventListener("load",(function(){U(e,q).context.drawImage(t.image,t.x,t.y,t.width,t.height)})))}))}))}function We(){var e=U(this,J)[Math.ceil(Math.random()*U(this,J).length)-1];return Math.random()<=e.chance?e:N(this,ae,We).call(this)}function Pe(){var e=this;U(this,q).clear(),U(this,Q).forEach((function(t,n){t.forEach((function(i,r){var o=N(e,ae,We).call(e);t[r]=C(C({},o),{},{y:n*o.height,x:r*o.width})}))})),N(this,ge,Ne).call(this)?N(this,se,Pe).call(this):N(this,oe,_e).call(this)}function Me(){return Math.round(Date.now()*(Math.random()||0))}function Be(e,t,n){"bomb"===U(this,Q)[e][t].type?N(this,he,ze).call(this,e,t):N(this,ue,Te).call(this,e,t,n)}function Te(e,t){var n,i,r,o,a,s,l=U(this,Q)[e][t],c=null,u=null,h=null,f=null;(null===(n=U(this,Q)[e-1])||void 0===n||null===(i=n[t])||void 0===i?void 0:i.type)!==l.type||U(this,X).find((function(n){return n.rowIndex===e-1&&n.cellIndex===t}))||(c={rowIndex:e-1,cellIndex:t},U(this,X).push(c)),(null===(r=U(this,Q)[e+1])||void 0===r||null===(o=r[t])||void 0===o?void 0:o.type)!==l.type||U(this,X).find((function(n){return n.rowIndex===e+1&&n.cellIndex===t}))||(u={rowIndex:e+1,cellIndex:t},U(this,X).push(u)),(null===(a=U(this,Q)[e][t-1])||void 0===a?void 0:a.type)!==l.type||U(this,X).find((function(n){return n.rowIndex===e&&n.cellIndex===t-1}))||(h={rowIndex:e,cellIndex:t-1},U(this,X).push(h)),(null===(s=U(this,Q)[e][t+1])||void 0===s?void 0:s.type)!==l.type||U(this,X).find((function(n){return n.rowIndex===e&&n.cellIndex===t+1}))||(f={rowIndex:e,cellIndex:t+1},U(this,X).push(f)),(c||u||h||f)&&(U(this,X).find((function(n){return n.rowIndex===e&&n.cellIndex===t}))||U(this,X).push({rowIndex:e,cellIndex:t}),c&&N(this,ue,Te).call(this,c.rowIndex,c.cellIndex),u&&N(this,ue,Te).call(this,u.rowIndex,u.cellIndex),h&&N(this,ue,Te).call(this,h.rowIndex,h.cellIndex),f&&N(this,ue,Te).call(this,f.rowIndex,f.cellIndex))}function ze(e,t){var n=this,i=U(this,ee)[U(this,K)].bombRadius;U(this,X).push({rowIndex:e,cellIndex:t});for(var r=function(r){var o,a;if(null!==(o=U(n,Q)[e-r])&&void 0!==o&&o[t]&&!U(n,X).find((function(n){return n.rowIndex===e-r&&n.cellIndex===t}))){U(n,X).push({rowIndex:e-r,cellIndex:t});for(var s=0;s<=i;s++){var l,c;null!==(l=U(n,Q)[e-r])&&void 0!==l&&l[t-s]&&U(n,X).push({rowIndex:e-r,cellIndex:t-s}),null!==(c=U(n,Q)[e-r])&&void 0!==c&&c[t+s]&&U(n,X).push({rowIndex:e-r,cellIndex:t+s})}}if(null!==(a=U(n,Q)[e+r])&&void 0!==a&&a[t]&&!U(n,X).find((function(n){return n.rowIndex===e+r&&n.cellIndex===t}))){U(n,X).push({rowIndex:e+r,cellIndex:t});for(var u=0;u<=i;u++){var h,f;null!==(h=U(n,Q)[e+r])&&void 0!==h&&h[t-u]&&U(n,X).push({rowIndex:e+r,cellIndex:t-u}),null!==(f=U(n,Q)[e+r])&&void 0!==f&&f[t+u]&&U(n,X).push({rowIndex:e+r,cellIndex:t+u})}}U(n,Q)[e][t-r]&&!U(n,X).find((function(n){return n.rowIndex===e&&n.cellIndex===t-r}))&&U(n,X).push({rowIndex:e,cellIndex:t-r}),U(n,Q)[e][t+r]&&!U(n,X).find((function(n){return n.rowIndex===e&&n.cellIndex===t+r}))&&U(n,X).push({rowIndex:e,cellIndex:t+r})},o=0;o<=i;o++)r(o)}function Ce(e,t,n){var i=U(this,Q)[e][t];if(i){var r,o,a,s,l,c,u,h,f,d,p,m,v,b=null,y=null,g=null,w=null;(null===(r=U(this,Q)[e-1])||void 0===r||null===(o=r[t])||void 0===o?void 0:o.type)!==i.type||null!==(a=U(this,Y)[n])&&void 0!==a&&a.find((function(n){return n.rowIndex===e-1&&n.cellIndex===t}))||(b={rowIndex:e-1,cellIndex:t},U(this,Y)[n]?U(this,Y)[n].push(b):U(this,Y)[n]=[b]),(null===(s=U(this,Q)[e+1])||void 0===s||null===(l=s[t])||void 0===l?void 0:l.type)!==i.type||null!==(c=U(this,Y)[n])&&void 0!==c&&c.find((function(n){return n.rowIndex===e+1&&n.cellIndex===t}))||(y={rowIndex:e+1,cellIndex:t},U(this,Y)[n]?U(this,Y)[n].push(y):U(this,Y)[n]=[y]),(null===(u=U(this,Q)[e])||void 0===u||null===(h=u[t-1])||void 0===h?void 0:h.type)!==i.type||null!==(f=U(this,Y)[n])&&void 0!==f&&f.find((function(n){return n.rowIndex===e&&n.cellIndex===t-1}))||(g={rowIndex:e,cellIndex:t-1},U(this,Y)[n]?U(this,Y)[n].push(g):U(this,Y)[n]=[g]),(null===(d=U(this,Q)[e])||void 0===d||null===(p=d[t+1])||void 0===p?void 0:p.type)!==i.type||null!==(m=U(this,Y)[n])&&void 0!==m&&m.find((function(n){return n.rowIndex===e&&n.cellIndex===t+1}))||(w={rowIndex:e,cellIndex:t+1},U(this,Y)[n]?U(this,Y)[n].push(w):U(this,Y)[n]=[w]),(b||y||g||w)&&(null!==(v=U(this,Y)[n])&&void 0!==v&&v.find((function(n){return n.rowIndex===e&&n.cellIndex===t}))||(U(this,X).push({rowIndex:e,cellIndex:t}),U(this,Y)[n]?U(this,Y)[n].push({rowIndex:e,cellIndex:t}):U(this,Y)[n]=[{rowIndex:e,cellIndex:t}]),b&&N(this,fe,Ce).call(this,b.rowIndex,b.cellIndex,n),y&&N(this,fe,Ce).call(this,y.rowIndex,y.cellIndex,n),g&&N(this,fe,Ce).call(this,g.rowIndex,g.cellIndex,n),w&&N(this,fe,Ce).call(this,w.rowIndex,w.cellIndex,n))}}function Le(){var e=this;U(this,X).forEach((function(t){var n=t.rowIndex,i=t.cellIndex;return U(e,Q)[n][i]=null})),N(this,oe,_e).call(this),G(this,X,[])}function Re(){return U(this,Q).flat(1).filter((function(e){return!!e})).length===U(this,q).rowCount*U(this,q).colCount}function Ae(e,t){var n=this;return new Promise((function(i){e.animationFrame%U(n,re)==0&&(e.y+=1),e.y<=t?(e.animationFrame++,requestAnimationFrame((function(){N(n,me,Ae).call(n,e,t).then((function(){i()}))}))):(e.animationFrame=0,i()),N(n,oe,_e).call(n)}))}function Ve(e){for(var t=this,n=U(this,Q).length-1;n>=0;n--)if(!U(this,Q)[n][e])if(0===n){var i=N(this,ae,We).call(this),r=C(C({},i),{},{y:-i.height,x:e*i.width,animation:!0});U(this,Q)[n][e]=r,N(this,me,Ae).call(this,r,n*r.height).then((function(){N(t,pe,Re).call(t)||N(t,ve,Ve).call(t,e)}))}else for(var o=n-1;o>=0;o--){var a=U(this,Q)[o][e];if(a){U(this,Q)[n][e]=a,U(this,Q)[o][e]=null,N(this,me,Ae).call(this,a,n*a.height).then((function(){N(t,pe,Re).call(t)||N(t,ve,Ve).call(t,e)}));break}}}function Fe(){for(var e=0;e<U(this,q).colCount;e++)N(this,ve,Ve).call(this,e)}function De(){return U(this,ne)>=U(this,ee)[U(this,K)].score}function Ne(){var e=this,t=!1;U(this,Q).forEach((function(n,i){n.forEach((function(n,r){t=t||"bomb"===(null==n?void 0:n.type),N(e,fe,Ce).call(e,i,r,N(e,le,Me).call(e))}))}));var n=Object.values(U(this,Y)).some((function(t){return t.length>=U(e,ie)}));return G(this,Y,{}),G(this,X,[]),!t&&!n}function Ue(){G(this,ne,U(this,ne)+U(this,X).length),U(this,H).setScore(U(this,ne),U(this,ee)[U(this,K)],U(this,ee)[U(this,K)+1])}function Ge(){G(this,ne,0),U(this,H).resetScore(U(this,ne))}function Ze(){G(this,te,U(this,ee)[U(this,K)].moves),U(this,H).resetMoves(U(this,te))}function qe(){U(this,ee)[U(this,K)].match&&G(this,ie,U(this,ee)[U(this,K)].match),U(this,H).setMatch(U(this,ie))}function He(){var e=this;U(this,H).$restartBtn.addEventListener("click",(function(){G(e,K,1),N(e,xe,Ge).call(e),N(e,Ie,Ze).call(e),N(e,ke,qe).call(e),U(e,H).setLevel(U(e,K)),U(e,H).setProgress(U(e,ne)/U(e,ee)[U(e,K)].score),U(e,H).restartGame(),N(e,se,Pe).call(e)}))}function Je(){var e=this;U(this,H).$nextBtn.addEventListener("click",(function(){var t=U(e,K)+1;U(e,ee)[t]&&(G(e,K,t),N(e,xe,Ge).call(e),N(e,Ie,Ze).call(e),N(e,ke,qe).call(e),N(e,se,Pe).call(e),U(e,H).setLevel(U(e,K)),U(e,H).setProgress(U(e,ne)/U(e,ee)[U(e,K)].score))}))}function Qe(){var e=this;U(this,H).$resetBtn.addEventListener("click",(function(){N(e,xe,Ge).call(e),N(e,Ie,Ze).call(e),N(e,se,Pe).call(e),U(e,H).setProgress(U(e,ne)/U(e,ee)[U(e,K)].score)}))}function Xe(){var e=this;U(this,q).canvas.addEventListener("click",(function(t){if(!N(e,ye,De).call(e)){G(e,X,[]);var n,i=Math.floor(t.offsetX/(U(e,q).width/U(e,q).colCount)),r=Math.floor(t.offsetY/(U(e,q).height/U(e,q).rowCount));N(e,ce,Be).call(e,r,i),U(e,X).length>=U(e,ie)&&(N(e,we,Ue).call(e),N(e,de,Le).call(e),setTimeout((function(){N(e,be,Fe).call(e)}),300),U(e,H).decreaseMoves(G(e,te,(n=U(e,te),--n))),U(e,H).setProgress(U(e,ne)/U(e,ee)[U(e,K)].score),N(e,ge,Ne).call(e)&&!N(e,ye,De).call(e)&&U(e,H).showGameOver())}}))}function Ye(e){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==Ye(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!==Ye(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key),"symbol"===Ye(r)?r:String(r)),i)}var r}function et(e){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}function tt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,st(i.key),i)}}function nt(e,t){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nt(e,t)}function it(e,t){if(t&&("object"===et(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rt(e)}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ot(e)}function at(e,t,n){return(t=st(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(e){var t=function(e,t){if("object"!==et(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!==et(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===et(t)?t:String(t)}var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nt(e,t)}(a,e);var t,n,i,r,o=(i=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ot(i);if(r){var n=ot(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return it(this,e)});function a(e){var t,n=e.$level,i=e.$match,r=e.$progress,s=e.$moves,l=e.$score,c=e.$nextBtn,u=e.$resetBtn,h=e.$restartBtn,f=e.$gameOver,d=e.$gameWin;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),at(rt(t=o.call(this)),"$level",void 0),at(rt(t),"$match",void 0),at(rt(t),"$progress",void 0),at(rt(t),"$moves",void 0),at(rt(t),"$score",void 0),at(rt(t),"$nextBtn",void 0),at(rt(t),"$resetBtn",void 0),at(rt(t),"$restartBtn",void 0),at(rt(t),"$gameOver",void 0),at(rt(t),"$gameWin",void 0),t.$level=n,t.$match=i,t.$progress=r,t.$moves=s,t.$score=l,t.$nextBtn=c,t.$resetBtn=u,t.$restartBtn=h,t.$gameOver=f,t.$gameWin=d,t}return t=a,(n=[{key:"setLevel",value:function(e){this.setValue(this.$level,e),this.hideElement(this.$nextBtn)}},{key:"setScore",value:function(e,t,n){e<t.score?(this.setValue(this.$score,e),this.showElement(this.$resetBtn)):e>=t.score&&(this.setValue(this.$score,t.score),n?this.showNextLevel():this.showGameWin())}},{key:"resetScore",value:function(e){this.setValue(this.$score,e)}},{key:"setProgress",value:function(e){this.setWidth(this.$progress,e)}},{key:"decreaseMoves",value:function(e){this.setValue(this.$moves,e)}},{key:"resetMoves",value:function(e){this.setValue(this.$moves,e)}},{key:"setMatch",value:function(e){this.setValue(this.$match,e)}},{key:"restartGame",value:function(){this.hideElement(this.$gameOver),this.hideElement(this.$gameWin),this.hideElement(this.$restartBtn)}},{key:"showGameOver",value:function(){this.showElement(this.$gameOver),this.showElement(this.$restartBtn)}},{key:"showNextLevel",value:function(){this.showElement(this.$nextBtn),this.hideElement(this.$resetBtn)}},{key:"showGameWin",value:function(){this.showElement(this.$gameWin),this.showElement(this.$restartBtn),this.hideElement(this.$resetBtn)}}])&&tt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"setValue",value:function(e,t){e.innerText=t}},{key:"resetValue",value:function(e){e.innerText="0"}},{key:"setWidth",value:function(e,t){e.style.width=100*t+"%"}},{key:"showElement",value:function(e){e.style.display="block"}},{key:"hideElement",value:function(e){e.style.display="none"}}])&&Ke(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),ct=Math.floor(42.75),ut=Math.floor(48),ht=9*ct,ft=9*ut,dt=new j(document.getElementById("canvas"),ht,ft,9,9),pt=[{chance:1,type:"blue",src:"/images/items/blue.png"},{chance:1,type:"purple",src:"/images/items/purple.png"},{chance:1,type:"red",src:"/images/items/red.png"},{chance:1,type:"yellow",src:"/images/items/yellow.png"},{chance:1,type:"green",src:"/images/items/green.png"},{chance:.05,type:"bomb",src:"/images/items/bomb.png"}].map((function(e){return new B(e.chance,e.type,e.src,ct,ut)}));new Oe({canvasInstance:dt,interfaceInstance:new lt({$level:document.getElementById("level"),$match:document.getElementById("match"),$moves:document.getElementById("moves"),$progress:document.getElementById("progress"),$score:document.getElementById("score"),$nextBtn:document.getElementById("next"),$resetBtn:document.getElementById("reset"),$restartBtn:document.getElementById("restart"),$gameOver:document.getElementById("game-over"),$gameWin:document.getElementById("game-win")}),itemsInstances:pt,levels:{1:{moves:40,score:100,match:2,bombRadius:1},2:{moves:35,score:10,match:4,bombRadius:2}}}).init()}()}();