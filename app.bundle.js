!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,i){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===t(o)?o:String(o)),r)}var o}function i(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}function n(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,o(t,e,"get"))}function r(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,o(t,e,"set"),i),i}function o(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var s=new WeakMap,l=new WeakMap,a=new WeakMap,h=new WeakMap,c=new WeakMap,u=new WeakMap,f=function(){function t(e,o,f,v,d){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,s,{writable:!0,value:void 0}),i(this,l,{writable:!0,value:void 0}),i(this,a,{writable:!0,value:void 0}),i(this,h,{writable:!0,value:void 0}),i(this,c,{writable:!0,value:void 0}),i(this,u,{writable:!0,value:void 0}),r(this,s,e),r(this,l,n(this,s).getContext("2d")),r(this,a,n(this,s).width=o),r(this,h,n(this,s).height=f),r(this,c,v),r(this,u,d)}var o,f;return o=t,(f=[{key:"canvas",get:function(){return n(this,s)}},{key:"context",get:function(){return n(this,l)}},{key:"width",get:function(){return n(this,a)}},{key:"height",get:function(){return n(this,h)}},{key:"rowCount",get:function(){return n(this,u)}},{key:"colCount",get:function(){return n(this,c)}},{key:"clear",value:function(){n(this,l).clearRect(0,0,n(this,a),n(this,h))}}])&&e(o.prototype,f),Object.defineProperty(o,"prototype",{writable:!1}),t}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p(n.key),n)}}function m(t,e,i){return e&&d(t.prototype,e),i&&d(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t,e,i){return(e=p(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function p(t){var e=function(t,e){if("object"!==v(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===v(e)?e:String(e)}var w=m((function t(e,i,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,"chance",void 0),y(this,"type",void 0),y(this,"image",void 0),y(this,"width",void 0),y(this,"height",void 0),y(this,"animationFrame",0),this.chance=e,this.type=i,this.image=new Image,this.image.src=n,this.image.width=this.width=r,this.image.height=this.height=o}));function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function g(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function x(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach((function(e){k(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function k(t,e,i){return(e=S(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function I(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S(n.key),n)}}function S(t){var e=function(t,e){if("object"!==b(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===b(e)?e:String(e)}function $(t,e){W(t,e),e.add(t)}function E(t,e,i){W(t,e),e.set(t,i)}function W(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function O(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function j(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,M(t,e,"get"))}function P(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,M(t,e,"set"),i),i}function M(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var B=new WeakMap,R=new WeakMap,F=new WeakMap,T=new WeakMap,C=new WeakMap,V=new WeakMap,L=new WeakMap,_=new WeakMap,D=new WeakMap,G=new WeakMap,A=new WeakMap,q=new WeakMap,z=new WeakMap,N=new WeakMap,X=new WeakSet,Y=new WeakSet,H=new WeakSet,J=new WeakSet,K=new WeakSet,Q=new WeakSet,U=new WeakSet,Z=new WeakSet,tt=new WeakSet,et=new WeakSet,it=new WeakSet,nt=new WeakSet,rt=new WeakSet,ot=new WeakSet,st=new WeakSet,lt=new WeakSet,at=new WeakSet,ht=new WeakSet,ct=new WeakSet,ut=new WeakSet,ft=new WeakSet,vt=new WeakSet,dt=new WeakSet,mt=new WeakSet,yt=new WeakSet,pt=function(){function t(e){var i=this,n=e.canvasInstance,r=e.interfaceInstance,o=e.itemsInstances,s=e.levels,l=e.animationStep;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),$(this,yt),$(this,mt),$(this,dt),$(this,vt),$(this,ft),$(this,ut),$(this,ct),$(this,ht),$(this,at),$(this,lt),$(this,st),$(this,ot),$(this,rt),$(this,nt),$(this,it),$(this,et),$(this,tt),$(this,Z),$(this,U),$(this,Q),$(this,K),$(this,J),$(this,H),$(this,Y),$(this,X),E(this,B,{writable:!0,value:void 0}),E(this,R,{writable:!0,value:void 0}),E(this,F,{writable:!0,value:void 0}),E(this,T,{writable:!0,value:void 0}),E(this,C,{writable:!0,value:[]}),E(this,V,{writable:!0,value:{}}),E(this,L,{writable:!0,value:void 0}),E(this,_,{writable:!0,value:void 0}),E(this,D,{writable:!0,value:void 0}),E(this,G,{writable:!0,value:0}),E(this,A,{writable:!0,value:2}),E(this,q,{writable:!0,value:1}),E(this,z,{writable:!0,value:1}),E(this,N,{writable:!0,value:0}),P(this,B,n),P(this,R,r),P(this,F,o),P(this,T,Array(j(this,B).colCount).fill(null).map((function(t,e){return Array(j(i,B).rowCount).fill(null)}))),P(this,_,s),P(this,L,localStorage.getItem("level")||1),P(this,z,l)}var e,i;return e=t,(i=[{key:"init",value:function(){O(this,ft,Lt).call(this),O(this,ut,Vt).call(this),O(this,H,gt).call(this),O(this,yt,At).call(this),O(this,dt,Dt).call(this),O(this,mt,Gt).call(this),O(this,vt,_t).call(this),j(this,R).setLevel(j(this,L))}}])&&I(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function wt(){var t=this;j(this,B).clear(),j(this,T).forEach((function(e,i){e.forEach((function(e,i){e&&(e.image.complete?j(t,B).context.drawImage(e.image,e.x,e.y,e.width,e.height):e.image.addEventListener("load",(function(){j(t,B).context.drawImage(e.image,e.x,e.y,e.width,e.height)})))}))}))}function bt(){var t=j(this,F)[Math.ceil(Math.random()*j(this,F).length)-1];return Math.random()<=t.chance?t:O(this,Y,bt).call(this)}function gt(){var t=this;j(this,B).clear(),j(this,T).forEach((function(e,i){e.forEach((function(n,r){var o=O(t,Y,bt).call(t);e[r]=x(x({},o),{},{y:i*o.height,x:r*o.width})}))})),O(this,at,Ft).call(this)?O(this,H,gt).call(this):O(this,X,wt).call(this)}function xt(){return Math.round(Date.now()*(Math.random()||0))}function kt(t,e,i){"bomb"===j(this,T)[t][e].type?O(this,Z,$t).call(this,t,e):O(this,U,St).call(this,t,e,i)}function It(t,e){return j(this,C).find((function(i){return i.rowIndex===t&&i.cellIndex===e}))}function St(t,e){var i,n,r,o,s,l,a=j(this,T)[t][e],h=null,c=null,u=null,f=null;(null===(i=j(this,T)[t-1])||void 0===i||null===(n=i[e])||void 0===n?void 0:n.type)!==a.type||O(this,Q,It).call(this,t-1,e)||(h={rowIndex:t-1,cellIndex:e},j(this,C).push(h)),(null===(r=j(this,T)[t+1])||void 0===r||null===(o=r[e])||void 0===o?void 0:o.type)!==a.type||O(this,Q,It).call(this,t+1,e)||(c={rowIndex:t+1,cellIndex:e},j(this,C).push(c)),(null===(s=j(this,T)[t][e-1])||void 0===s?void 0:s.type)!==a.type||O(this,Q,It).call(this,t,e-1)||(u={rowIndex:t,cellIndex:e-1},j(this,C).push(u)),(null===(l=j(this,T)[t][e+1])||void 0===l?void 0:l.type)!==a.type||O(this,Q,It).call(this,t,e+1)||(f={rowIndex:t,cellIndex:e+1},j(this,C).push(f)),(h||c||u||f)&&(O(this,Q,It).call(this,t,e)||j(this,C).push({rowIndex:t,cellIndex:e}),h&&O(this,U,St).call(this,h.rowIndex,h.cellIndex),c&&O(this,U,St).call(this,c.rowIndex,c.cellIndex),u&&O(this,U,St).call(this,u.rowIndex,u.cellIndex),f&&O(this,U,St).call(this,f.rowIndex,f.cellIndex))}function $t(t,e){var i=j(this,_)[j(this,L)].bombRadius;j(this,C).push({rowIndex:t,cellIndex:e});for(var n=0;n<=i;n++){var r,o,s=t-n;if(null!==(r=j(this,T)[s])&&void 0!==r&&r[e]&&!O(this,Q,It).call(this,s,e)){j(this,C).push({rowIndex:s,cellIndex:e});for(var l=0;l<=i;l++){var a,h,c=e-l;null!==(a=j(this,T)[s])&&void 0!==a&&a[c]&&!O(this,Q,It).call(this,s,c)&&j(this,C).push({rowIndex:s,cellIndex:c});var u=e+l;null!==(h=j(this,T)[s])&&void 0!==h&&h[u]&&!O(this,Q,It).call(this,s,u)&&j(this,C).push({rowIndex:s,cellIndex:u})}}var f=t+n;if(null!==(o=j(this,T)[f])&&void 0!==o&&o[e]&&!O(this,Q,It).call(this,f,e)){j(this,C).push({rowIndex:f,cellIndex:e});for(var v=0;v<=i;v++){var d,m,y=e-v;null!==(d=j(this,T)[f])&&void 0!==d&&d[y]&&!O(this,Q,It).call(this,f,y)&&j(this,C).push({rowIndex:f,cellIndex:y});var p=e+v;null!==(m=j(this,T)[f])&&void 0!==m&&m[p]&&!O(this,Q,It).call(this,f,p)&&j(this,C).push({rowIndex:f,cellIndex:p})}}var w=e-n;j(this,T)[t][w]&&!O(this,Q,It).call(this,t,w)&&j(this,C).push({rowIndex:t,cellIndex:w});var b=e+n;j(this,T)[t][b]&&!O(this,Q,It).call(this,t,b)&&j(this,C).push({rowIndex:t,cellIndex:b})}}function Et(t,e,i){var n;return null===(n=j(this,V)[t])||void 0===n?void 0:n.find((function(t){return t.rowIndex===e&&t.cellIndex===i}))}function Wt(t,e,i){var n=j(this,T)[t][e];if(n){var r,o,s,l,a,h,c,u,f=null,v=null,d=null,m=null;(null===(r=j(this,T)[t-1])||void 0===r||null===(o=r[e])||void 0===o?void 0:o.type)!==n.type||O(this,tt,Et).call(this,i,t-1,e)||(f={rowIndex:t-1,cellIndex:e},j(this,V)[i]?j(this,V)[i].push(f):j(this,V)[i]=[f]),(null===(s=j(this,T)[t+1])||void 0===s||null===(l=s[e])||void 0===l?void 0:l.type)!==n.type||O(this,tt,Et).call(this,i,t+1,e)||(v={rowIndex:t+1,cellIndex:e},j(this,V)[i]?j(this,V)[i].push(v):j(this,V)[i]=[v]),(null===(a=j(this,T)[t])||void 0===a||null===(h=a[e-1])||void 0===h?void 0:h.type)!==n.type||O(this,tt,Et).call(this,i,t,e-1)||(d={rowIndex:t,cellIndex:e-1},j(this,V)[i]?j(this,V)[i].push(d):j(this,V)[i]=[d]),(null===(c=j(this,T)[t])||void 0===c||null===(u=c[e+1])||void 0===u?void 0:u.type)!==n.type||O(this,tt,Et).call(this,i,t,e+1)||(m={rowIndex:t,cellIndex:e+1},j(this,V)[i]?j(this,V)[i].push(m):j(this,V)[i]=[m]),(f||v||d||m)&&(O(this,tt,Et).call(this,i,t,e)||(j(this,V)[i]?j(this,V)[i].push({rowIndex:t,cellIndex:e}):j(this,V)[i]=[{rowIndex:t,cellIndex:e}]),f&&O(this,et,Wt).call(this,f.rowIndex,f.cellIndex,i),v&&O(this,et,Wt).call(this,v.rowIndex,v.cellIndex,i),d&&O(this,et,Wt).call(this,d.rowIndex,d.cellIndex,i),m&&O(this,et,Wt).call(this,m.rowIndex,m.cellIndex,i))}}function Ot(){var t=this;j(this,C).forEach((function(e){var i=e.rowIndex,n=e.cellIndex;return j(t,T)[i][n]=null})),O(this,X,wt).call(this),P(this,C,[])}function jt(){return j(this,T).flat(1).filter((function(t){return!!t})).length===j(this,B).rowCount*j(this,B).colCount}function Pt(t,e){var i=this;return new Promise((function(n){t.animationFrame%j(i,q)==0&&t.y<e&&(t.y+=j(i,z)),t.y<e?(t.animationFrame++,requestAnimationFrame((function(){O(i,rt,Pt).call(i,t,e).then((function(){n()}))}))):(t.animationFrame=0,n()),O(i,X,wt).call(i)}))}function Mt(t){for(var e=this,i=j(this,T).length-1;i>=0;i--)if(!j(this,T)[i][t])if(0===i){var n=O(this,Y,bt).call(this),r=x(x({},n),{},{y:-n.height,x:t*n.width,animation:!0});j(this,T)[i][t]=r,O(this,rt,Pt).call(this,r,i*r.height).then((function(){O(e,nt,jt).call(e)||O(e,ot,Mt).call(e,t)}))}else for(var o=i-1;o>=0;o--){var s=j(this,T)[o][t];if(s){j(this,T)[i][t]=s,j(this,T)[o][t]=null,O(this,rt,Pt).call(this,s,i*s.height).then((function(){O(e,nt,jt).call(e)||O(e,ot,Mt).call(e,t)}));break}}}function Bt(){for(var t=0;t<j(this,B).colCount;t++)O(this,ot,Mt).call(this,t)}function Rt(){return j(this,G)>=j(this,_)[j(this,L)].score}function Ft(){var t=this,e=!1;j(this,T).forEach((function(i,n){i.forEach((function(i,r){e=e||"bomb"===(null==i?void 0:i.type),O(t,et,Wt).call(t,n,r,O(t,J,xt).call(t))}))}));var i=Object.values(j(this,V)).some((function(e){return e.length>=j(t,A)}));return P(this,V,{}),!e&&!i||j(this,D)<=0&&j(this,G)<j(this,_)[j(this,L)].score}function Tt(){P(this,G,j(this,G)+j(this,C).length),j(this,G)<j(this,_)[j(this,L)].score?(j(this,R).setScore(j(this,G)),j(this,N)<j(this,_)[j(this,L)].maxResetField&&j(this,R).showResetField()):j(this,G)>=j(this,_)[j(this,L)].score&&(j(this,R).setScore(j(this,_)[j(this,L)].score),j(this,_)[j(this,L)+1]?j(this,R).showNextLevel():j(this,R).showGameWin())}function Ct(){P(this,G,0),j(this,R).resetScore(j(this,G))}function Vt(){P(this,D,j(this,_)[j(this,L)].moves),j(this,R).resetMoves(j(this,D))}function Lt(){j(this,_)[j(this,L)].match&&P(this,A,j(this,_)[j(this,L)].match),j(this,R).setMatch(j(this,A))}function _t(){var t=this;j(this,R).$restartBtn.addEventListener("click",(function(){P(t,L,1),O(t,ct,Ct).call(t),O(t,ut,Vt).call(t),O(t,ft,Lt).call(t),j(t,R).setLevel(j(t,L)),j(t,R).setProgress(j(t,G)/j(t,_)[j(t,L)].score),j(t,R).restartGame(),O(t,H,gt).call(t)}))}function Dt(){var t=this;j(this,R).$nextBtn.addEventListener("click",(function(){var e=j(t,L)+1;j(t,_)[e]&&(P(t,N,0),P(t,L,e),O(t,ct,Ct).call(t),O(t,ut,Vt).call(t),O(t,ft,Lt).call(t),O(t,H,gt).call(t),j(t,R).setLevel(j(t,L)),j(t,R).setProgress(j(t,G)/j(t,_)[j(t,L)].score))}))}function Gt(){var t=this;j(this,R).$resetBtn.addEventListener("click",(function(){var e;P(t,N,(e=j(t,N),++e)),O(t,H,gt).call(t),j(t,R).setProgress(j(t,G)/j(t,_)[j(t,L)].score),j(t,N)>=j(t,_)[j(t,L)].maxResetField&&j(t,R).hideResetField()}))}function At(){var t=this;j(this,B).canvas.addEventListener("click",(function(e){if(!O(t,lt,Rt).call(t)){P(t,C,[]);var i,n=Math.floor(e.offsetX/(j(t,B).width/j(t,B).colCount)),r=Math.floor(e.offsetY/(j(t,B).height/j(t,B).rowCount));O(t,K,kt).call(t,r,n),j(t,C).length>=j(t,A)&&j(t,D)>0&&(O(t,ht,Tt).call(t),O(t,it,Ot).call(t),setTimeout((function(){O(t,st,Bt).call(t)}),300),j(t,R).decreaseMoves(P(t,D,(i=j(t,D),--i))),j(t,R).setProgress(j(t,G)/j(t,_)[j(t,L)].score),O(t,at,Ft).call(t)&&!O(t,lt,Rt).call(t)&&j(t,R).showGameOver())}}))}function qt(t){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(t)}function zt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==qt(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===qt(r)?r:String(r)),n)}var r}var Nt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i;return e=t,i=[{key:"setValue",value:function(t,e){this.animateValue(t,t.innerText,e)}},{key:"resetValue",value:function(t,e){e?this.animateValue(t,t.innerText,e,500):this.animateValue(t,t.innerText,0,500)}},{key:"setWidth",value:function(t,e){t.style.width=100*e+"%"}},{key:"showElement",value:function(t){t.style.display="block"}},{key:"hideElement",value:function(t){t.style.display="none"}},{key:"animateValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25*(Math.abs(i-e)||1),r=null,o=function o(s){r||(r=s);var l=Math.min((s-r)/n,1);t.innerText=Math.floor(l*(i-e)+parseFloat(e)),l<1&&requestAnimationFrame(o)};requestAnimationFrame(o)}}],i&&zt(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Xt(t){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(t)}function Yt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zt(n.key),n)}}function Ht(t,e){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ht(t,e)}function Jt(t,e){if(e&&("object"===Xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Kt(t)}function Kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qt(t){return Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qt(t)}function Ut(t,e,i){return(e=Zt(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Zt(t){var e=function(t,e){if("object"!==Xt(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==Xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Xt(e)?e:String(e)}var te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ht(t,e)}(s,t);var e,i,n,r,o=(n=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qt(n);if(r){var i=Qt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Jt(this,t)});function s(t){var e,i=t.$level,n=t.$match,r=t.$progress,l=t.$moves,a=t.$score,h=t.$nextBtn,c=t.$resetBtn,u=t.$restartBtn,f=t.$gameOver,v=t.$gameWin;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),Ut(Kt(e=o.call(this)),"$level",void 0),Ut(Kt(e),"$match",void 0),Ut(Kt(e),"$progress",void 0),Ut(Kt(e),"$moves",void 0),Ut(Kt(e),"$score",void 0),Ut(Kt(e),"$nextBtn",void 0),Ut(Kt(e),"$resetBtn",void 0),Ut(Kt(e),"$restartBtn",void 0),Ut(Kt(e),"$gameOver",void 0),Ut(Kt(e),"$gameWin",void 0),e.$level=i,e.$match=n,e.$progress=r,e.$moves=l,e.$score=a,e.$nextBtn=h,e.$resetBtn=c,e.$restartBtn=u,e.$gameOver=f,e.$gameWin=v,e}return e=s,(i=[{key:"setLevel",value:function(t){this.setValue(this.$level,t),this.hideElement(this.$nextBtn)}},{key:"setScore",value:function(t){this.setValue(this.$score,t)}},{key:"showResetField",value:function(){this.showElement(this.$resetBtn)}},{key:"hideResetField",value:function(){this.hideElement(this.$resetBtn)}},{key:"resetScore",value:function(t){this.resetValue(this.$score,t)}},{key:"setProgress",value:function(t){this.setWidth(this.$progress,t)}},{key:"decreaseMoves",value:function(t){this.setValue(this.$moves,t)}},{key:"resetMoves",value:function(t){this.setValue(this.$moves,t)}},{key:"setMatch",value:function(t){this.setValue(this.$match,t)}},{key:"restartGame",value:function(){this.hideElement(this.$gameOver),this.hideElement(this.$gameWin),this.hideElement(this.$restartBtn)}},{key:"showGameOver",value:function(){this.showElement(this.$gameOver),this.showElement(this.$restartBtn),this.hideElement(this.$resetBtn)}},{key:"showNextLevel",value:function(){this.showElement(this.$nextBtn),this.hideElement(this.$resetBtn)}},{key:"showGameWin",value:function(){this.showElement(this.$gameWin),this.showElement(this.$restartBtn),this.hideElement(this.$resetBtn)}}])&&Yt(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(Nt),ee=Math.floor(42.75),ie=Math.floor(48),ne=ee%3?3*Math.floor(ee/3):ee,re=ie%3?3*Math.floor(ie/3):ie,oe=9*ne,se=9*re,le=new f(document.getElementById("canvas"),oe,se,9,9),ae=[{chance:1,type:"blue",src:"assets/items/blue.png"},{chance:1,type:"purple",src:"assets/items/purple.png"},{chance:1,type:"red",src:"assets/items/red.png"},{chance:1,type:"yellow",src:"assets/items/yellow.png"},{chance:1,type:"green",src:"assets/items/green.png"},{chance:.05,type:"bomb",src:"assets/items/bomb.png"}].map((function(t){return new w(t.chance,t.type,t.src,ne,re)}));new pt({canvasInstance:le,interfaceInstance:new te({$level:document.getElementById("level"),$match:document.getElementById("match"),$moves:document.getElementById("moves"),$progress:document.getElementById("progress"),$score:document.getElementById("score"),$nextBtn:document.getElementById("next"),$resetBtn:document.getElementById("reset"),$restartBtn:document.getElementById("restart"),$gameOver:document.getElementById("game-over"),$gameWin:document.getElementById("game-win")}),itemsInstances:ae,levels:{1:{moves:40,score:100,match:2,bombRadius:2,maxResetField:3},2:{moves:35,score:100,match:3,bombRadius:2,maxResetField:3},3:{moves:35,score:200,match:3,bombRadius:2,maxResetField:3},4:{moves:30,score:200,match:3,bombRadius:2,maxResetField:3},5:{moves:30,score:200,match:3,bombRadius:1,maxResetField:3},6:{moves:30,score:200,match:4,bombRadius:1,maxResetField:3},7:{moves:30,score:400,match:4,bombRadius:1,maxResetField:3},8:{moves:25,score:400,match:4,bombRadius:1,maxResetField:3},9:{moves:20,score:400,match:4,bombRadius:1,maxResetField:3},10:{moves:20,score:400,match:5,bombRadius:1,maxResetField:3}},animationStep:3}).init()}();