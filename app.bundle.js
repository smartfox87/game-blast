!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,n){if("object"!==t(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!==t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===t(o)?o:String(o)),r)}var o}function n(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function i(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,o(t,e,"get"))}function r(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,o(t,e,"set"),n),n}function o(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var s=new WeakMap,l=new WeakMap,a=new WeakMap,c=new WeakMap,h=new WeakMap,u=new WeakMap,f=function(){function t(e,o,f,v,m){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n(this,s,{writable:!0,value:void 0}),n(this,l,{writable:!0,value:void 0}),n(this,a,{writable:!0,value:void 0}),n(this,c,{writable:!0,value:void 0}),n(this,h,{writable:!0,value:void 0}),n(this,u,{writable:!0,value:void 0}),r(this,s,e),r(this,l,i(this,s).getContext("2d")),r(this,a,i(this,s).width=o),r(this,c,i(this,s).height=f),r(this,h,v),r(this,u,m)}var o,f;return o=t,(f=[{key:"canvas",get:function(){return i(this,s)}},{key:"context",get:function(){return i(this,l)}},{key:"width",get:function(){return i(this,a)}},{key:"height",get:function(){return i(this,c)}},{key:"rowCount",get:function(){return i(this,u)}},{key:"colCount",get:function(){return i(this,h)}},{key:"clear",value:function(){i(this,l).clearRect(0,0,i(this,a),i(this,c))}}])&&e(o.prototype,f),Object.defineProperty(o,"prototype",{writable:!1}),t}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,y(i.key),i)}}function d(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t,e,n){return(e=y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t){var e=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==v(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===v(e)?e:String(e)}var w=d((function t(e,n,i,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,"chance",void 0),p(this,"type",void 0),p(this,"image",void 0),p(this,"width",void 0),p(this,"height",void 0),p(this,"animationFrame",0),this.chance=e,this.type=n,this.image=new Image,this.image.src=i,this.image.width=this.width=r,this.image.height=this.height=o}));function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){I(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function I(t,e,n){return(e=S(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,S(i.key),i)}}function S(t){var e=function(t,e){if("object"!==b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==b(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===b(e)?e:String(e)}function $(t,e){W(t,e),e.add(t)}function E(t,e,n){W(t,e),e.set(t,n)}function W(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function O(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function j(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,M(t,e,"get"))}function P(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,M(t,e,"set"),n),n}function M(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var B=new WeakMap,T=new WeakMap,R=new WeakMap,C=new WeakMap,V=new WeakMap,L=new WeakMap,F=new WeakMap,_=new WeakMap,D=new WeakMap,G=new WeakMap,A=new WeakMap,q=new WeakMap,z=new WeakMap,N=new WeakSet,X=new WeakSet,Y=new WeakSet,H=new WeakSet,J=new WeakSet,K=new WeakSet,Q=new WeakSet,U=new WeakSet,Z=new WeakSet,tt=new WeakSet,et=new WeakSet,nt=new WeakSet,it=new WeakSet,rt=new WeakSet,ot=new WeakSet,st=new WeakSet,lt=new WeakSet,at=new WeakSet,ct=new WeakSet,ht=new WeakSet,ut=new WeakSet,ft=new WeakSet,vt=new WeakSet,mt=new WeakSet,dt=new WeakSet,pt=function(){function t(e){var n=this,i=e.canvasInstance,r=e.interfaceInstance,o=e.itemsInstances,s=e.levels,l=e.animationStep;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),$(this,dt),$(this,mt),$(this,vt),$(this,ft),$(this,ut),$(this,ht),$(this,ct),$(this,at),$(this,lt),$(this,st),$(this,ot),$(this,rt),$(this,it),$(this,nt),$(this,et),$(this,tt),$(this,Z),$(this,U),$(this,Q),$(this,K),$(this,J),$(this,H),$(this,Y),$(this,X),$(this,N),E(this,B,{writable:!0,value:void 0}),E(this,T,{writable:!0,value:void 0}),E(this,R,{writable:!0,value:void 0}),E(this,C,{writable:!0,value:void 0}),E(this,V,{writable:!0,value:[]}),E(this,L,{writable:!0,value:{}}),E(this,F,{writable:!0,value:void 0}),E(this,_,{writable:!0,value:void 0}),E(this,D,{writable:!0,value:void 0}),E(this,G,{writable:!0,value:0}),E(this,A,{writable:!0,value:2}),E(this,q,{writable:!0,value:1}),E(this,z,{writable:!0,value:1}),P(this,B,i),P(this,T,r),P(this,R,o),P(this,C,Array(j(this,B).colCount).fill(null).map((function(t,e){return Array(j(n,B).rowCount).fill(null)}))),P(this,_,s),P(this,F,localStorage.getItem("level")||1),P(this,z,l)}var e,n;return e=t,(n=[{key:"init",value:function(){O(this,ut,Lt).call(this),O(this,ht,Vt).call(this),O(this,Y,bt).call(this),O(this,dt,Gt).call(this),O(this,vt,_t).call(this),O(this,mt,Dt).call(this),O(this,ft,Ft).call(this),j(this,T).setLevel(j(this,F))}}])&&k(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function yt(){var t=this;j(this,B).clear(),j(this,C).forEach((function(e,n){e.forEach((function(e,n){e&&(e.image.complete?j(t,B).context.drawImage(e.image,e.x,e.y,e.width,e.height):e.image.addEventListener("load",(function(){j(t,B).context.drawImage(e.image,e.x,e.y,e.width,e.height)})))}))}))}function wt(){var t=j(this,R)[Math.ceil(Math.random()*j(this,R).length)-1];return Math.random()<=t.chance?t:O(this,X,wt).call(this)}function bt(){var t=this;j(this,B).clear(),j(this,C).forEach((function(e,n){e.forEach((function(i,r){var o=O(t,X,wt).call(t);e[r]=x(x({},o),{},{y:n*o.height,x:r*o.width})}))})),O(this,lt,Tt).call(this)?O(this,Y,bt).call(this):O(this,N,yt).call(this)}function gt(){return Math.round(Date.now()*(Math.random()||0))}function xt(t,e,n){"bomb"===j(this,C)[t][e].type?O(this,U,St).call(this,t,e):O(this,Q,kt).call(this,t,e,n)}function It(t,e){return j(this,V).find((function(n){return n.rowIndex===t&&n.cellIndex===e}))}function kt(t,e){var n,i,r,o,s,l,a=j(this,C)[t][e],c=null,h=null,u=null,f=null;(null===(n=j(this,C)[t-1])||void 0===n||null===(i=n[e])||void 0===i?void 0:i.type)!==a.type||O(this,K,It).call(this,t-1,e)||(c={rowIndex:t-1,cellIndex:e},j(this,V).push(c)),(null===(r=j(this,C)[t+1])||void 0===r||null===(o=r[e])||void 0===o?void 0:o.type)!==a.type||O(this,K,It).call(this,t+1,e)||(h={rowIndex:t+1,cellIndex:e},j(this,V).push(h)),(null===(s=j(this,C)[t][e-1])||void 0===s?void 0:s.type)!==a.type||O(this,K,It).call(this,t,e-1)||(u={rowIndex:t,cellIndex:e-1},j(this,V).push(u)),(null===(l=j(this,C)[t][e+1])||void 0===l?void 0:l.type)!==a.type||O(this,K,It).call(this,t,e+1)||(f={rowIndex:t,cellIndex:e+1},j(this,V).push(f)),(c||h||u||f)&&(O(this,K,It).call(this,t,e)||j(this,V).push({rowIndex:t,cellIndex:e}),c&&O(this,Q,kt).call(this,c.rowIndex,c.cellIndex),h&&O(this,Q,kt).call(this,h.rowIndex,h.cellIndex),u&&O(this,Q,kt).call(this,u.rowIndex,u.cellIndex),f&&O(this,Q,kt).call(this,f.rowIndex,f.cellIndex))}function St(t,e){var n=j(this,_)[j(this,F)].bombRadius;j(this,V).push({rowIndex:t,cellIndex:e});for(var i=0;i<=n;i++){var r,o,s=t-i;if(null!==(r=j(this,C)[s])&&void 0!==r&&r[e]&&!O(this,K,It).call(this,s,e)){j(this,V).push({rowIndex:s,cellIndex:e});for(var l=0;l<=n;l++){var a,c,h=e-l;null!==(a=j(this,C)[s])&&void 0!==a&&a[h]&&!O(this,K,It).call(this,s,h)&&j(this,V).push({rowIndex:s,cellIndex:h});var u=e+l;null!==(c=j(this,C)[s])&&void 0!==c&&c[u]&&!O(this,K,It).call(this,s,u)&&j(this,V).push({rowIndex:s,cellIndex:u})}}var f=t+i;if(null!==(o=j(this,C)[f])&&void 0!==o&&o[e]&&!O(this,K,It).call(this,f,e)){j(this,V).push({rowIndex:f,cellIndex:e});for(var v=0;v<=n;v++){var m,d,p=e-v;null!==(m=j(this,C)[f])&&void 0!==m&&m[p]&&!O(this,K,It).call(this,f,p)&&j(this,V).push({rowIndex:f,cellIndex:p});var y=e+v;null!==(d=j(this,C)[f])&&void 0!==d&&d[y]&&!O(this,K,It).call(this,f,y)&&j(this,V).push({rowIndex:f,cellIndex:y})}}var w=e-i;j(this,C)[t][w]&&!O(this,K,It).call(this,t,w)&&j(this,V).push({rowIndex:t,cellIndex:w});var b=e+i;j(this,C)[t][b]&&!O(this,K,It).call(this,t,b)&&j(this,V).push({rowIndex:t,cellIndex:b})}}function $t(t,e,n){var i;return null===(i=j(this,L)[t])||void 0===i?void 0:i.find((function(t){return t.rowIndex===e&&t.cellIndex===n}))}function Et(t,e,n){var i=j(this,C)[t][e];if(i){var r,o,s,l,a,c,h,u,f=null,v=null,m=null,d=null;(null===(r=j(this,C)[t-1])||void 0===r||null===(o=r[e])||void 0===o?void 0:o.type)!==i.type||O(this,Z,$t).call(this,n,t-1,e)||(f={rowIndex:t-1,cellIndex:e},j(this,L)[n]?j(this,L)[n].push(f):j(this,L)[n]=[f]),(null===(s=j(this,C)[t+1])||void 0===s||null===(l=s[e])||void 0===l?void 0:l.type)!==i.type||O(this,Z,$t).call(this,n,t+1,e)||(v={rowIndex:t+1,cellIndex:e},j(this,L)[n]?j(this,L)[n].push(v):j(this,L)[n]=[v]),(null===(a=j(this,C)[t])||void 0===a||null===(c=a[e-1])||void 0===c?void 0:c.type)!==i.type||O(this,Z,$t).call(this,n,t,e-1)||(m={rowIndex:t,cellIndex:e-1},j(this,L)[n]?j(this,L)[n].push(m):j(this,L)[n]=[m]),(null===(h=j(this,C)[t])||void 0===h||null===(u=h[e+1])||void 0===u?void 0:u.type)!==i.type||O(this,Z,$t).call(this,n,t,e+1)||(d={rowIndex:t,cellIndex:e+1},j(this,L)[n]?j(this,L)[n].push(d):j(this,L)[n]=[d]),(f||v||m||d)&&(O(this,Z,$t).call(this,n,t,e)||(j(this,L)[n]?j(this,L)[n].push({rowIndex:t,cellIndex:e}):j(this,L)[n]=[{rowIndex:t,cellIndex:e}]),f&&O(this,tt,Et).call(this,f.rowIndex,f.cellIndex,n),v&&O(this,tt,Et).call(this,v.rowIndex,v.cellIndex,n),m&&O(this,tt,Et).call(this,m.rowIndex,m.cellIndex,n),d&&O(this,tt,Et).call(this,d.rowIndex,d.cellIndex,n))}}function Wt(){var t=this;j(this,V).forEach((function(e){var n=e.rowIndex,i=e.cellIndex;return j(t,C)[n][i]=null})),O(this,N,yt).call(this),P(this,V,[])}function Ot(){return j(this,C).flat(1).filter((function(t){return!!t})).length===j(this,B).rowCount*j(this,B).colCount}function jt(t,e){var n=this;return new Promise((function(i){t.animationFrame%j(n,q)==0&&t.y<e&&(t.y+=j(n,z)),t.y<e?(t.animationFrame++,requestAnimationFrame((function(){O(n,it,jt).call(n,t,e).then((function(){i()}))}))):(t.animationFrame=0,i()),O(n,N,yt).call(n)}))}function Pt(t){for(var e=this,n=j(this,C).length-1;n>=0;n--)if(!j(this,C)[n][t])if(0===n){var i=O(this,X,wt).call(this),r=x(x({},i),{},{y:-i.height,x:t*i.width,animation:!0});j(this,C)[n][t]=r,O(this,it,jt).call(this,r,n*r.height).then((function(){O(e,nt,Ot).call(e)||O(e,rt,Pt).call(e,t)}))}else for(var o=n-1;o>=0;o--){var s=j(this,C)[o][t];if(s){j(this,C)[n][t]=s,j(this,C)[o][t]=null,O(this,it,jt).call(this,s,n*s.height).then((function(){O(e,nt,Ot).call(e)||O(e,rt,Pt).call(e,t)}));break}}}function Mt(){for(var t=0;t<j(this,B).colCount;t++)O(this,rt,Pt).call(this,t)}function Bt(){return j(this,G)>=j(this,_)[j(this,F)].score}function Tt(){var t=this,e=!1;j(this,C).forEach((function(n,i){n.forEach((function(n,r){e=e||"bomb"===(null==n?void 0:n.type),O(t,tt,Et).call(t,i,r,O(t,H,gt).call(t))}))}));var n=Object.values(j(this,L)).some((function(e){return e.length>=j(t,A)}));return P(this,L,{}),!e&&!n}function Rt(){P(this,G,j(this,G)+j(this,V).length),j(this,T).setScore(j(this,G),j(this,_)[j(this,F)],j(this,_)[j(this,F)+1])}function Ct(){P(this,G,0),j(this,T).resetScore(j(this,G))}function Vt(){P(this,D,j(this,_)[j(this,F)].moves),j(this,T).resetMoves(j(this,D))}function Lt(){j(this,_)[j(this,F)].match&&P(this,A,j(this,_)[j(this,F)].match),j(this,T).setMatch(j(this,A))}function Ft(){var t=this;j(this,T).$restartBtn.addEventListener("click",(function(){P(t,F,1),O(t,ct,Ct).call(t),O(t,ht,Vt).call(t),O(t,ut,Lt).call(t),j(t,T).setLevel(j(t,F)),j(t,T).setProgress(j(t,G)/j(t,_)[j(t,F)].score),j(t,T).restartGame(),O(t,Y,bt).call(t)}))}function _t(){var t=this;j(this,T).$nextBtn.addEventListener("click",(function(){var e=j(t,F)+1;j(t,_)[e]&&(P(t,F,e),O(t,ct,Ct).call(t),O(t,ht,Vt).call(t),O(t,ut,Lt).call(t),O(t,Y,bt).call(t),j(t,T).setLevel(j(t,F)),j(t,T).setProgress(j(t,G)/j(t,_)[j(t,F)].score))}))}function Dt(){var t=this;j(this,T).$resetBtn.addEventListener("click",(function(){O(t,ct,Ct).call(t),O(t,ht,Vt).call(t),O(t,Y,bt).call(t),j(t,T).setProgress(j(t,G)/j(t,_)[j(t,F)].score)}))}function Gt(){var t=this;j(this,B).canvas.addEventListener("click",(function(e){if(!O(t,st,Bt).call(t)){P(t,V,[]);var n,i=Math.floor(e.offsetX/(j(t,B).width/j(t,B).colCount)),r=Math.floor(e.offsetY/(j(t,B).height/j(t,B).rowCount));O(t,J,xt).call(t,r,i),j(t,V).length>=j(t,A)&&(O(t,at,Rt).call(t),O(t,et,Wt).call(t),setTimeout((function(){O(t,ot,Mt).call(t)}),300),j(t,T).decreaseMoves(P(t,D,(n=j(t,D),--n))),j(t,T).setProgress(j(t,G)/j(t,_)[j(t,F)].score),O(t,lt,Tt).call(t)&&!O(t,st,Bt).call(t)&&j(t,T).showGameOver())}}))}function At(t){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(t)}function qt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==At(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==At(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===At(r)?r:String(r)),i)}var r}var zt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"setValue",value:function(t,e){this.animateValue(t,t.innerText,e)}},{key:"resetValue",value:function(t){this.animateValue(t,t.innerText,0)}},{key:"setWidth",value:function(t,e){t.style.width=100*e+"%"}},{key:"showElement",value:function(t){t.style.display="block"}},{key:"hideElement",value:function(t){t.style.display="none"}},{key:"animateValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=null,r=25*(Math.abs(n-e)||1),o=function o(s){i||(i=s);var l=Math.min((s-i)/r,1);t.innerText=Math.floor(l*(n-e)+parseFloat(e)),l<1&&requestAnimationFrame(o)};requestAnimationFrame(o)}}],n&&qt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Nt(t){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}function Xt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Ut(i.key),i)}}function Yt(t,e){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yt(t,e)}function Ht(t,e){if(e&&("object"===Nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Jt(t)}function Jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kt(t){return Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kt(t)}function Qt(t,e,n){return(e=Ut(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ut(t){var e=function(t,e){if("object"!==Nt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==Nt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Nt(e)?e:String(e)}var Zt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yt(t,e)}(s,t);var e,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kt(i);if(r){var n=Kt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ht(this,t)});function s(t){var e,n=t.$level,i=t.$match,r=t.$progress,l=t.$moves,a=t.$score,c=t.$nextBtn,h=t.$resetBtn,u=t.$restartBtn,f=t.$gameOver,v=t.$gameWin;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),Qt(Jt(e=o.call(this)),"$level",void 0),Qt(Jt(e),"$match",void 0),Qt(Jt(e),"$progress",void 0),Qt(Jt(e),"$moves",void 0),Qt(Jt(e),"$score",void 0),Qt(Jt(e),"$nextBtn",void 0),Qt(Jt(e),"$resetBtn",void 0),Qt(Jt(e),"$restartBtn",void 0),Qt(Jt(e),"$gameOver",void 0),Qt(Jt(e),"$gameWin",void 0),e.$level=n,e.$match=i,e.$progress=r,e.$moves=l,e.$score=a,e.$nextBtn=c,e.$resetBtn=h,e.$restartBtn=u,e.$gameOver=f,e.$gameWin=v,e}return e=s,(n=[{key:"setLevel",value:function(t){this.setValue(this.$level,t),this.hideElement(this.$nextBtn)}},{key:"setScore",value:function(t,e,n){t<e.score?(this.setValue(this.$score,t),this.showElement(this.$resetBtn)):t>=e.score&&(this.setValue(this.$score,e.score),n?this.showNextLevel():this.showGameWin())}},{key:"resetScore",value:function(t){this.setValue(this.$score,t)}},{key:"setProgress",value:function(t){this.setWidth(this.$progress,t)}},{key:"decreaseMoves",value:function(t){this.setValue(this.$moves,t)}},{key:"resetMoves",value:function(t){this.setValue(this.$moves,t)}},{key:"setMatch",value:function(t){this.setValue(this.$match,t)}},{key:"restartGame",value:function(){this.hideElement(this.$gameOver),this.hideElement(this.$gameWin),this.hideElement(this.$restartBtn)}},{key:"showGameOver",value:function(){this.showElement(this.$gameOver),this.showElement(this.$restartBtn)}},{key:"showNextLevel",value:function(){this.showElement(this.$nextBtn),this.hideElement(this.$resetBtn)}},{key:"showGameWin",value:function(){this.showElement(this.$gameWin),this.showElement(this.$restartBtn),this.hideElement(this.$resetBtn)}}])&&Xt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(zt),te=Math.floor(42.75),ee=Math.floor(48),ne=te%3?3*Math.floor(te/3):te,ie=ee%3?3*Math.floor(ee/3):ee,re=9*ne,oe=9*ie,se=new f(document.getElementById("canvas"),re,oe,9,9),le=[{chance:1,type:"blue",src:"assets/items/blue.png"},{chance:1,type:"purple",src:"assets/items/purple.png"},{chance:1,type:"red",src:"assets/items/red.png"},{chance:1,type:"yellow",src:"assets/items/yellow.png"},{chance:1,type:"green",src:"assets/items/green.png"},{chance:.05,type:"bomb",src:"assets/items/bomb.png"}].map((function(t){return new w(t.chance,t.type,t.src,ne,ie)}));new pt({canvasInstance:se,interfaceInstance:new Zt({$level:document.getElementById("level"),$match:document.getElementById("match"),$moves:document.getElementById("moves"),$progress:document.getElementById("progress"),$score:document.getElementById("score"),$nextBtn:document.getElementById("next"),$resetBtn:document.getElementById("reset"),$restartBtn:document.getElementById("restart"),$gameOver:document.getElementById("game-over"),$gameWin:document.getElementById("game-win")}),itemsInstances:le,levels:{1:{moves:40,score:100,match:3,bombRadius:2},2:{moves:35,score:100,match:3,bombRadius:2},3:{moves:35,score:200,match:3,bombRadius:2},4:{moves:30,score:200,match:3,bombRadius:2},5:{moves:30,score:200,match:3,bombRadius:1},6:{moves:30,score:200,match:4,bombRadius:1},7:{moves:30,score:400,match:4,bombRadius:1},8:{moves:25,score:400,match:4,bombRadius:1},9:{moves:20,score:400,match:4,bombRadius:1},10:{moves:20,score:400,match:5,bombRadius:1}},animationStep:3}).init()}();